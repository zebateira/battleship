\begin{vdm_al}
class CLI
 types
 values
 instance variables
  public static letters : map nat1 to char := {
   1|->'A', 2|->'B', 3|->'C', 4|->'D', 5|->'E',
   6|->'F', 7|->'G', 8|->'H', 9|->'I',10|->'J' 
  };
 
  public static WATER  : int := 0;
  public static SHIP   : int := 1;
  public static HIT_SHIP  : int := 2;
  public static HIT_WATER : int := 3;
 
 public static markers : map int to char := {
  WATER  |-> ' ',
  SHIP  |-> 'O',
  HIT_SHIP |-> 'X',
  HIT_WATER |-> '+'
 };
 
 operations
 
  public static printInit : Player * Player ==> ()
   printInit (p1, p2) == (
   
    (*@\notcovered{IO`println}@*)((*@\notcovered{"\textbackslash n********************************************"}@*));
    (*@\notcovered{IO`println}@*)(  (*@\notcovered{"*            Battleship War Game           *"}@*));
    (*@\notcovered{IO`println}@*)(  (*@\notcovered{"********************************************"}@*));
    
    (*@\notcovered{IO`println}@*)((*@\notcovered{IO`freadval}@*)[VDMUtil`String]((*@\notcovered{"res/header.txt"}@*)).#(*@\notcovered{2}@*));
 
    (*@\notcovered{IO`print}@*)(  (*@\notcovered{"\textbackslash n************* "}@*));
    (*@\notcovered{IO`print}@*)((*@\notcovered{p1}@*).(*@\notcovered{name}@*));
    (*@\notcovered{IO`print}@*)((*@\notcovered{" Vs "}@*));
    (*@\notcovered{IO`print}@*)((*@\notcovered{p2}@*).(*@\notcovered{name}@*));
    (*@\notcovered{IO`println}@*)((*@\notcovered{" **************\textbackslash n"}@*));
    
   );

  public static printEnd : Player ==> ()
   printEnd (winner) == (
    (*@\notcovered{IO`print}@*)((*@\notcovered{"Player "}@*));
    (*@\notcovered{IO`print}@*)((*@\notcovered{winner}@*).(*@\notcovered{name}@*));
    (*@\notcovered{IO`println}@*)((*@\notcovered{" is Victorious! You fought with bravery young lad! "}@*));
    (*@\notcovered{IO`println}@*)((*@\notcovered{"I shall award you with cookies and milk. Enjoy this feast to your content!\textbackslash n"}@*));
    (*@\notcovered{IO`println}@*)((*@\notcovered{IO`freadval}@*)[VDMUtil`String]((*@\notcovered{"res/cookies\_and\_milk.txt"}@*)).#(*@\notcovered{2}@*));
   );

  public static printHeaders : Player ==> ()
   printHeaders(player) == (
    (*@\notcovered{IO`print}@*)((*@\notcovered{"*** "}@*));
    (*@\notcovered{IO`print}@*)((*@\notcovered{player}@*).(*@\notcovered{name}@*));
    (*@\notcovered{IO`println}@*)((*@\notcovered{"'s boards ***\textbackslash n"}@*));
   );

  public static printBoard : Board ==> ()
   printBoard(board) == (
    dcl marker : int := (*@\notcovered{WATER}@*);
   
    (*@\notcovered{IO`print}@*)((*@\notcovered{"   "}@*));
    (*@\notcovered{for}@*) x = (*@\notcovered{1}@*) to (*@\notcovered{Board`BOARD\_SIZE}@*) do (
     (*@\notcovered{IO`print}@*)((*@\notcovered{letters}@*)((*@\notcovered{x}@*))); 
     (*@\notcovered{IO`print}@*)((*@\notcovered{" "}@*));
    );
    (*@\notcovered{IO`println}@*)((*@\notcovered{" "}@*));
    
    (*@\notcovered{for}@*) y = (*@\notcovered{1}@*) to (*@\notcovered{Board`BOARD\_SIZE}@*) do (
     (*@\notcovered{if}@*) (*@\notcovered{y}@*) (*@\notcovered{<>}@*) (*@\notcovered{10}@*) then (*@\notcovered{IO`print}@*)((*@\notcovered{" "}@*));
     (*@\notcovered{IO`print}@*)((*@\notcovered{y}@*));
     (*@\notcovered{IO`print}@*)((*@\notcovered{"|"}@*));
     (*@\notcovered{for}@*) x = (*@\notcovered{1}@*) to (*@\notcovered{Board`BOARD\_SIZE}@*) do (
      (*@\notcovered{let}@*) house in set (*@\notcovered{board}@*).(*@\notcovered{houses}@*) be st (*@\notcovered{house}@*).(*@\notcovered{x}@*) (*@\notcovered{=}@*) (*@\notcovered{x}@*) (*@\notcovered{and}@*) (*@\notcovered{house}@*).(*@\notcovered{y}@*) (*@\notcovered{=}@*) (*@\notcovered{y}@*) in (
      
       (*@\notcovered{if}@*) (*@\notcovered{house}@*).(*@\notcovered{hasShip}@*) then (
        (*@\notcovered{if}@*) (*@\notcovered{house}@*).(*@\notcovered{hit}@*) then
         (*@\notcovered{marker}@*) := (*@\notcovered{HIT\_SHIP}@*)
        else
         (*@\notcovered{marker}@*) := (*@\notcovered{SHIP}@*);
       )
       else (
        (*@\notcovered{if}@*) (*@\notcovered{house}@*).(*@\notcovered{hit}@*) then (
         (*@\notcovered{marker}@*) := (*@\notcovered{HIT\_WATER}@*);
        )
        else (
         (*@\notcovered{marker}@*) := (*@\notcovered{WATER}@*);
        )
       );

       (*@\notcovered{IO`print}@*)((*@\notcovered{markers}@*)((*@\notcovered{marker}@*)));
       (*@\notcovered{IO`print}@*)((*@\notcovered{" "}@*));
      )
     );
     (*@\notcovered{IO`print}@*)((*@\notcovered{"|"}@*));
     (*@\notcovered{IO`println}@*)((*@\notcovered{y}@*));
    );

    (*@\notcovered{IO`print}@*)((*@\notcovered{"   "}@*));
    (*@\notcovered{for}@*) x = (*@\notcovered{1}@*) to (*@\notcovered{Board`BOARD\_SIZE}@*) do (
     (*@\notcovered{IO`print}@*)((*@\notcovered{letters}@*)((*@\notcovered{x}@*))); 
     (*@\notcovered{IO`print}@*)((*@\notcovered{" "}@*));
    );
    (*@\notcovered{IO`println}@*)((*@\notcovered{" "}@*));
    (*@\notcovered{IO`println}@*)((*@\notcovered{" "}@*));
   );
  
 
  public static printBoardTabbed : Board ==> ()
   printBoardTabbed(board) == (
    dcl marker : int := (*@\notcovered{WATER}@*);
   
    (*@\notcovered{IO`print}@*)((*@\notcovered{"   "}@*));
    (*@\notcovered{IO`print}@*)((*@\notcovered{"           "}@*));
    (*@\notcovered{for}@*) x = (*@\notcovered{1}@*) to (*@\notcovered{Board`BOARD\_SIZE}@*) do (
     (*@\notcovered{IO`print}@*)((*@\notcovered{letters}@*)((*@\notcovered{x}@*))); 
     (*@\notcovered{IO`print}@*)((*@\notcovered{" "}@*));
    );
    (*@\notcovered{IO`println}@*)((*@\notcovered{" "}@*));
    
    (*@\notcovered{for}@*) y = (*@\notcovered{1}@*) to (*@\notcovered{Board`BOARD\_SIZE}@*) do (
     (*@\notcovered{IO`print}@*)((*@\notcovered{"           "}@*));
     (*@\notcovered{if}@*) (*@\notcovered{y}@*) (*@\notcovered{<>}@*) (*@\notcovered{10}@*) then (*@\notcovered{IO`print}@*)((*@\notcovered{" "}@*));
     (*@\notcovered{IO`print}@*)((*@\notcovered{y}@*));
     (*@\notcovered{IO`print}@*)((*@\notcovered{"|"}@*));
     (*@\notcovered{for}@*) x = (*@\notcovered{1}@*) to (*@\notcovered{Board`BOARD\_SIZE}@*) do (
      (*@\notcovered{let}@*) house in set (*@\notcovered{board}@*).(*@\notcovered{houses}@*) be st (*@\notcovered{house}@*).(*@\notcovered{x}@*) (*@\notcovered{=}@*) (*@\notcovered{x}@*) (*@\notcovered{and}@*) (*@\notcovered{house}@*).(*@\notcovered{y}@*) (*@\notcovered{=}@*) (*@\notcovered{y}@*) in (
      
       (*@\notcovered{if}@*) (*@\notcovered{house}@*).(*@\notcovered{hasShip}@*) then (
        (*@\notcovered{if}@*) (*@\notcovered{house}@*).(*@\notcovered{hit}@*) then
         (*@\notcovered{marker}@*) := (*@\notcovered{HIT\_SHIP}@*)
        else
         (*@\notcovered{marker}@*) := (*@\notcovered{SHIP}@*);
       )
       (*@\notcovered{elseif}@*) (*@\notcovered{house}@*).(*@\notcovered{hit}@*) then (*@\notcovered{marker}@*) := (*@\notcovered{HIT\_WATER}@*);

       (*@\notcovered{IO`print}@*)((*@\notcovered{markers}@*)((*@\notcovered{marker}@*)));
       (*@\notcovered{IO`print}@*)((*@\notcovered{" "}@*));
       (*@\notcovered{marker}@*) := (*@\notcovered{WATER}@*);
      )
     );
     (*@\notcovered{IO`print}@*)((*@\notcovered{"|"}@*));
     (*@\notcovered{IO`println}@*)((*@\notcovered{y}@*));
    );
 
    (*@\notcovered{IO`print}@*)((*@\notcovered{"   "}@*));
    (*@\notcovered{IO`print}@*)((*@\notcovered{"           "}@*));
    (*@\notcovered{for}@*) x = (*@\notcovered{1}@*) to (*@\notcovered{Board`BOARD\_SIZE}@*) do (
     (*@\notcovered{IO`print}@*)((*@\notcovered{letters}@*)((*@\notcovered{x}@*))); 
     (*@\notcovered{IO`print}@*)((*@\notcovered{" "}@*));
    );
    (*@\notcovered{IO`println}@*)((*@\notcovered{" "}@*));
    (*@\notcovered{IO`println}@*)((*@\notcovered{" "}@*));
   );
  
  public static printBoards : Player ==> ()
   printBoards(player) == (
    (*@\notcovered{printHeaders}@*)((*@\notcovered{player}@*));
    (*@\notcovered{printBoard}@*)((*@\notcovered{player}@*).(*@\notcovered{boardplay}@*));
    (*@\notcovered{printBoardTabbed}@*)((*@\notcovered{player}@*).(*@\notcovered{boardown}@*));
   );
  
end CLI
\end{vdm_al}
\bigskip
\begin{longtable}{|l|r|r|}
\hline
Function or operation & Coverage & Calls \\
\hline
\hline
printBoard & 0.0\% & 0 \\
\hline
printBoardTabbed & 0.0\% & 0 \\
\hline
printBoards & 0.0\% & 0 \\
\hline
printEnd & 0.0\% & 0 \\
\hline
printHeaders & 0.0\% & 0 \\
\hline
printInit & 0.0\% & 0 \\
\hline
\hline
CLI.vdmpp & 13.4\% & 0 \\
\hline
\end{longtable}

